webpackJsonp([1],{JT7J:function(e,s){},NHnr:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=t("7+uW"),r=t("1mcD"),i=t.n(r),n=t("Sazm"),o=t.n(n),l={render:function(){var e=this.$createElement,s=this._self._c||e;return s("div",{attrs:{id:"app"}},[s("v-app",{staticClass:"red lighten-2"},[s("transition",{attrs:{name:"fade"}},[s("router-view")],1)],1)],1)},staticRenderFns:[]};var u=t("VU/8")({name:"App"},l,!1,function(e){t("JT7J")},null,null).exports,c=t("/ocq"),d=t("Dd8w"),m=t.n(d),v=t("mtWM"),h=t.n(v),f=t("NYxO"),p={methods:m()({},Object(f.b)({setToken:"session/SetToken",setUID:"session/SetUID",setUserInfo:"session/SetUserInfo"}),{login:function(){var e=this,s=new o.a.auth.GoogleAuthProvider;o.a.auth().signInWithPopup(s).then(function(s){console.log(s),e.setToken(s.credential.accessToken),e.setUID(s.user.uid),e.setUserInfo(s.user),console.log(h.a.defaults.headers,"axios"),e.$router.replace("/")})}})},b={render:function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"red lighten-2",attrs:{id:"login"}},[s("h1",[this._v("GPNJ RUTGERS")]),this._v(" "),s("v-btn",{staticClass:"sign-in-button",attrs:{id:"sign-in-button",color:"success",large:""},on:{click:this.login}},[s("svg",{attrs:{id:"logo",width:"40",height:"40",viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z"}})]),this._v("\n    SIGN IN WITH GPMAIL\n  ")])],1)},staticRenderFns:[]};var j=t("VU/8")(p,b,!1,function(e){t("l+af")},null,null).exports,g={data:function(){return{loading:!1,userFormDataAvailable:!1}},mounted:function(){var e=this,s=o.a.database().ref("users/"+this.uid+"/addressData");s&&s.once("value").then(function(s){var t=s.val();e.userFormDataAvailable=!0,e.setUserFormData(t)})},methods:m()({},Object(f.b)({setUserFormData:"session/SetUserFormData"}),{buyPermit:function(){var e=this;this.loading=!this.loading,this.userFormDataAvailable&&this.$http.post("/buyPermit",this.userFormData).then(function(s){e.loading=!1,console.log(s,"res from buying permit")})}}),computed:m()({},Object(f.c)({userInfo:"session/userInfo",userFormData:"session/userFormData",uid:"session/uid"}))},k={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"red lighten-2",attrs:{id:"home-page"}},[t("section",{attrs:{id:"welcome"}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs1:""}}),e._v(" "),t("v-flex",{attrs:{xs10:""}},[t("h1",{staticClass:"display-2"},[e._v("Welcome "+e._s(e.userInfo?e.userInfo.displayName:"")+" to Rutgers Parking Permit Purchaser! ")])]),e._v(" "),t("v-flex",{attrs:{xs1:""}})],1),e._v(" "),t("v-btn",{staticClass:"headline",attrs:{color:"success",large:""},on:{click:function(s){e.$router.push("/form")}}},[e._v("Enter/Update Address")]),e._v(" "),t("v-btn",{staticClass:"headline",attrs:{color:"success",loading:e.loading,disabled:e.loading,large:""},on:{click:e.buyPermit}},[e._v("\n            Buy a Guest Permit\n        ")])],1)])},staticRenderFns:[]};var y=t("VU/8")(g,k,!1,function(e){t("bkNc")},null,null).exports,C=t("PJh5"),x=t.n(C),F=t("Av7u"),N=t.n(F),w={data:function(){return{saved:!1,address:"",firstName:"",hideFormInput:!0,lastName:"",city:"",state:"NJ",country:"United States",zipCode:"",rutgersUsername:null,rutgersPassword:null,expirationMonth:null,expirationYear:null,visaCCCVV2:null,visaCC:null,plateNumber:null,email:"",key:null,valid:!0,nameRules:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=10||"Name must be less than 10 characters"}],cityRules:[function(e){return!!e||"City is required"},function(e){return e&&e.length<=20||"City must be less than 20 characters"}],zipRules:[function(e){return!!e||"Zip code is required"},function(e){return/\d+/.test(e)}],emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail must be valid"}]}},mounted:function(){var e=this;this.userFormData&&(this.$http.post("/key").then(function(s){e.key=s.data;var t=N.a.AES.decrypt(e.userFormData.visaCC.toString(),e.key),a=N.a.AES.decrypt(e.userFormData.visaCCCVV2.toString(),e.key),r=N.a.AES.decrypt(e.userFormData.rutgersPassword.toString(),e.key);e.rutgersPassword=r.toString(N.a.enc.Utf8),e.visaCC=t.toString(N.a.enc.Utf8),e.visaCCCVV2=a.toString(N.a.enc.Utf8)}),this.firstName=this.userFormData.firstName,this.lastName=this.userFormData.lastName,this.address=this.userFormData.address,this.city=this.userFormData.city,this.zipCode=this.userFormData.zipCode,this.country=this.userFormData.country,this.state=this.userFormData.state,this.email=this.userFormData.email,this.rutgersUsername=this.userFormData.rutgersUsername,this.expirationMonth=this.userFormData.expirationMonth,this.expirationYear=this.userFormData.expirationYear,this.plateNumber=this.userFormData.plateNumber)},methods:{prepare:function(){var e=N.a.AES.encrypt(this.visaCC,this.key),s=N.a.AES.encrypt(this.visaCCCVV2,this.key),t=N.a.AES.encrypt(this.rutgersPassword,this.key);return{firstName:this.firstName,lastName:this.lastName,address:this.address,city:this.city,zipCode:this.zipCode,country:this.country,state:this.state,email:this.email,rutgersUsername:this.rutgersUsername,rutgersPassword:t.toString(),visaCC:e.toString(),visaCCCVV2:s.toString(),expirationMonth:this.expirationMonth,expirationYear:this.expirationYear,plateNumber:this.plateNumber}},selectErrors:function(){var e=[];return this.$v.select.$dirty?(!this.$v.select.required&&e.push("Item is required"),e):e},submit:function(){this.$refs.form.validate()&&o.a.database().ref("/users/"+this.uid+"/addressData").set(this.prepare()).then(function(){console.log("success!!")})},clear:function(){this.$refs.form.reset()}},computed:m()({},Object(f.c)({token:"session/token",uid:"session/uid",userFormData:"session/userFormData"}),{months:function(){for(var e=[],s=1;s<13;++s)e.push({text:x()().set("month",s-1).format("MMMM"),value:s});return e},years:function(){for(var e=[],s=0;s<30;++s)e.push(2018+s);return e}})},z={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("section",{attrs:{id:"formPage"}},[t("v-card",{attrs:{id:"form"}},[t("h1",[e._v("Billing Address/Credit Card Info/Vehicle Info")]),e._v(" "),t("v-form",{ref:"form",staticClass:"address-form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(s){e.valid=s},expression:"valid"}},[t("v-text-field",{attrs:{label:"First Name",placeholder:e.firstName,rules:e.nameRules,disabled:e.saved,required:""},model:{value:e.firstName,callback:function(s){e.firstName=s},expression:"firstName"}}),e._v(" "),t("v-text-field",{attrs:{label:"Last Name",placeholder:e.lastName,rules:e.nameRules,disabled:e.saved,required:""},model:{value:e.lastName,callback:function(s){e.lastName=s},expression:"lastName"}}),e._v(" "),t("v-text-field",{attrs:{label:"Address",disabled:e.saved,required:""},model:{value:e.address,callback:function(s){e.address=s},expression:"address"}}),e._v(" "),t("v-text-field",{attrs:{label:"City",rules:e.cityRules,disabled:e.saved,required:""},model:{value:e.city,callback:function(s){e.city=s},expression:"city"}}),e._v(" "),t("v-text-field",{attrs:{label:"ZipCode",rules:e.zipRules,disabled:e.saved,required:""},model:{value:e.zipCode,callback:function(s){e.zipCode=s},expression:"zipCode"}}),e._v(" "),t("v-text-field",{attrs:{label:"E-mail (Permit will be sent to this email)",rules:e.emailRules,disabled:e.saved,required:""},model:{value:e.email,callback:function(s){e.email=s},expression:"email"}}),e._v(" "),t("v-text-field",{attrs:{label:"Rutgers Parking Username",disabled:e.saved,required:""},model:{value:e.rutgersUsername,callback:function(s){e.rutgersUsername=s},expression:"rutgersUsername"}}),e._v(" "),t("v-text-field",{attrs:{label:"Rutgers Parking password",type:e.hideFormInput?"password":"text",disabled:e.saved,required:""},model:{value:e.rutgersPassword,callback:function(s){e.rutgersPassword=s},expression:"rutgersPassword"}}),e._v(" "),t("v-text-field",{attrs:{label:"Visa Credit Card Number",type:e.hideFormInput?"password":"text",disabled:e.saved,required:""},model:{value:e.visaCC,callback:function(s){e.visaCC=s},expression:"visaCC"}}),e._v(" "),t("v-text-field",{attrs:{label:"Visa Credit Card CVV2",type:e.hideFormInput?"password":"text",disabled:e.saved,required:""},model:{value:e.visaCCCVV2,callback:function(s){e.visaCCCVV2=s},expression:"visaCCCVV2"}}),e._v(" "),t("v-select",{attrs:{label:"Expiration Month",items:e.months,rules:[function(e){return!!e||"Month is required"}],required:""},model:{value:e.expirationMonth,callback:function(s){e.expirationMonth=s},expression:"expirationMonth"}}),e._v(" "),t("v-select",{attrs:{label:"Expiration Year",items:e.years,rules:[function(e){return!!e||"Year is required"}],required:""},model:{value:e.expirationYear,callback:function(s){e.expirationYear=s},expression:"expirationYear"}}),e._v(" "),t("v-text-field",{attrs:{label:"Vehicle Plate Number",disabled:e.saved,required:""},model:{value:e.plateNumber,callback:function(s){e.plateNumber=s},expression:"plateNumber"}}),e._v(" "),t("v-btn",{attrs:{disabled:!e.valid||e.saved},on:{click:e.submit}},[e._v("\n                submit\n            ")]),e._v(" "),t("v-btn",{on:{click:e.clear}},[e._v("clear")])],1)],1),e._v(" "),t("div",{staticClass:"fixedButton"},[t("h5",[e._v(e._s(e.hideFormInput?"Show":"Hide")+" Sensitive field")]),e._v(" "),t("v-icon",{staticClass:"peek-icon",on:{click:function(s){e.hideFormInput=!e.hideFormInput}}},[e._v("remove_red_eye")])],1),e._v(" "),t("v-speed-dial",{attrs:{top:e.top,bottom:e.bottom,right:e.right,left:e.left,direction:e.direction,"open-on-hover":e.hover,transition:e.transition},model:{value:e.fab,callback:function(s){e.fab=s},expression:"fab"}},[t("v-btn",{attrs:{slot:"activator",color:"blue darken-2",dark:"",fab:"",hover:""},slot:"activator",model:{value:e.fab,callback:function(s){e.fab=s},expression:"fab"}},[t("v-icon",[e._v("account_circle")]),e._v(" "),t("v-icon",[e._v("close")])],1),e._v(" "),t("v-btn",{attrs:{fab:"",dark:"",small:"",color:"green"}},[t("v-icon",[e._v("edit")])],1),e._v(" "),t("v-btn",{attrs:{fab:"",dark:"",small:"",color:"indigo"}},[t("v-icon",[e._v("add")])],1),e._v(" "),t("v-btn",{attrs:{fab:"",dark:"",small:"",color:"red"}},[t("v-icon",[e._v("delete")])],1)],1)],1)},staticRenderFns:[]};var D=t("VU/8")(w,z,!1,function(e){t("R5U4")},null,null).exports;a.a.use(c.a);var _=new c.a({routes:[{path:"/",name:"HomePage",component:y},{path:"/login",name:"Login",component:j},{path:"/form",name:"Form",component:D}]}),I=t("3EgV"),U=t.n(I);a.a.use(f.a);var S=new f.a.Store({state:{token:"",uid:null,userInfo:null},mutations:{"session/token":function(e,s){e.token=s,localStorage.setItem("token",s)},"session/uid":function(e,s){e.uid=s,localStorage.setItem("uid",s)},"session/userInfo":function(e,s){e.userInfo=s},"session/userFormData":function(e,s){e.userFormData=s}},getters:{"session/token":function(e){return e.token},"session/uid":function(e){return e.uid},"session/userInfo":function(e){return e.userInfo},"session/userFormData":function(e){return e.userFormData}},actions:{"session/SetToken":function(e,s){var t=e.commit;console.log("token",s),t("session/token",s)},"session/SetUID":function(e,s){var t=e.commit;console.log("uid",s),t("session/uid",s)},"session/SetUserInfo":function(e,s){var t=e.commit;console.log("userInfo",s),t("session/userInfo",s)},"session/SetUserFormData":function(e,s){var t=e.commit;console.log("userFormData",s),t("session/userFormData",s)}}});a.a.config.productionTip=!1,a.a.use(i.a),a.a.use(U.a,{theme:{primary:"#C00000",secondary:"#C05858",accent:"#FFFFFF",error:"#000000",info:"#C05858",success:"#C00000",warning:"#C0C0C0"},options:{themeVariations:["primary","secondary"]}}),a.a.use(f.a),h.a.defaults.baseURL=Object({NODE_ENV:"production"}).API,a.a.http=h.a,a.a.prototype.$http=h.a;o.a.initializeApp({apiKey:"AIzaSyD2OtZb77QTn-STDL0RXxSTqJtF5q07IOo",authDomain:"rutgersparkingpermit.firebaseapp.com",databaseURL:"https://rutgersparkingpermit.firebaseio.com",projectId:"rutgersparkingpermit",storageBucket:"rutgersparkingpermit.appspot.com",messagingSenderId:"1055963578231"});_.beforeEach(function(e,s,t){S.getters["session/uid"]||("/login"!==e.path?t("/login"):t()),t()}),new a.a({el:"#app",router:_,store:S,components:{App:u},template:"<App/>"})},R5U4:function(e,s){},bkNc:function(e,s){},"l+af":function(e,s){},uslO:function(e,s,t){var a={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function r(e){return t(i(e))}function i(e){var s=a[e];if(!(s+1))throw new Error("Cannot find module '"+e+"'.");return s}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="uslO"}},["NHnr"]);
//# sourceMappingURL=app.1ddf3c921c5bec60b207.js.map