webpackJsonp([1],{"97Tb":function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("7+uW"),a=s("1mcD"),i=s.n(a),r=s("Sazm"),o=s.n(r),l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("v-app",{staticClass:"red lighten-2"},[t("transition",{attrs:{name:"fade"}},[t("router-view")],1)],1)],1)},staticRenderFns:[]};var u=s("VU/8")({name:"App"},l,!1,function(e){s("g5uf")},null,null).exports,c=s("/ocq"),d=s("Dd8w"),m=s.n(d),f=s("mtWM"),p=s.n(f),v=s("NYxO"),h={methods:m()({},Object(v.b)({setToken:"session/SetToken",setUID:"session/SetUID",setUserInfo:"session/SetUserInfo"}),{login:function(){var e=this,t=new o.a.auth.GoogleAuthProvider;o.a.auth().signInWithPopup(t).then(function(t){console.log(t),e.setToken(t.credential.accessToken),e.setUID(t.user.uid),e.setUserInfo(t.user),console.log(p.a.defaults.headers,"axios"),e.$router.replace("/")})}})},g={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"red lighten-2",attrs:{id:"login"}},[t("h1",[this._v("GPNJ RUTGERS")]),this._v(" "),t("v-btn",{staticClass:"sign-in-button",attrs:{id:"sign-in-button",color:"success",large:""},on:{click:this.login}},[t("svg",{attrs:{id:"logo",width:"40",height:"40",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z"}})]),this._v("\n    SIGN IN WITH GPMAIL\n  ")])],1)},staticRenderFns:[]};var b=s("VU/8")(h,g,!1,function(e){s("97Tb")},null,null).exports,k={data:function(){return{loading:!1}},methods:{loader:function(){var e=this;this.loading=!this.loading,console.log(this.loading,"loading"),setTimeout(function(){return e.loading=!1},3e3)}},computed:m()({},Object(v.c)({userInfo:"session/userInfo"}))},I={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"red lighten-2",attrs:{id:"home-page"}},[s("section",{attrs:{id:"welcome"}},[s("h1",[e._v("Welcome "+e._s(e.userInfo?e.userInfo.displayName:"")+" to Rutgers Parking Permit Purchaser! ")]),e._v(" "),s("v-btn",{attrs:{color:"success"},on:{click:function(t){e.$router.push("/form")}}},[e._v("Enter/Update Address")]),e._v(" "),s("v-btn",{attrs:{color:"success",loading:e.loading,disabled:e.loading},on:{click:e.loader}},[e._v("\n            Buy a Guest Permit\n        ")])],1)])},staticRenderFns:[]};var N=s("VU/8")(k,I,!1,function(e){s("sD8r")},null,null).exports,_={data:function(){return{saved:!1,rutgersUserName:"",rutgersPassword:"",address:"",firstName:"",lastName:"",city:"",state:"NJ",country:"United States",zipCode:"",valid:!0,nameRules:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=10||"Name must be less than 10 characters"}],cityRules:[function(e){return!!e||"City is required"},function(e){return e&&e.length<=20||"City must be less than 20 characters"}],zipRules:[function(e){return!!e||"Zip code is required"},function(e){return/\d+/.test(e)}],email:"",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail must be valid"}],select:null,items:["Item 1","Item 2","Item 3","Item 4"]}},mounted:function(){var e=this;o.a.database().ref("users/"+this.uid).once("value").then(function(t){var s=t.val();for(var n in s)e.firstName=s[n].firstName,e.lastName=s[n].lastName,e.saved=!0})},methods:{prepare:function(){return{firstName:this.firstName,lastName:this.lastName,address:this.address,city:this.city,zipCode:this.zipCode,country:this.country,state:this.state}},submit:function(){var e=o.a.database().ref("users/"+this.uid).child("addressData").push().key,t={};return t["/users/"+this.uid+"/"+e]=this.prepare(),o.a.database().ref().update(t)},clear:function(){this.$refs.form.reset()}},computed:m()({},Object(v.c)({token:"session/token",uid:"session/uid"}))},y={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{attrs:{id:"formPage"}},[s("v-card",{attrs:{id:"form"}},[s("h1",[e._v("Billing Address")]),e._v(" "),s("v-form",{ref:"form",staticClass:"address-form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-text-field",{attrs:{label:"First Name",placeholder:e.firstName,rules:e.nameRules,counter:10,disabled:e.saved,required:""},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}}),e._v(" "),s("v-text-field",{attrs:{label:"Last Name",placeholder:e.lastName,rules:e.nameRules,disabled:e.saved,counter:10,required:""},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}}),e._v(" "),s("v-text-field",{attrs:{label:"Address",disabled:e.saved,counter:10,required:""},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),e._v(" "),s("v-text-field",{attrs:{label:"City",rules:e.cityRules,disabled:e.saved,counter:10,required:""},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}}),e._v(" "),s("v-text-field",{attrs:{label:"ZipCode",rules:e.zipRules,disabled:e.saved,counter:10,required:""},model:{value:e.zipCode,callback:function(t){e.zipCode=t},expression:"zipCode"}}),e._v(" "),s("v-text-field",{attrs:{label:"E-mail",rules:e.emailRules,disabled:e.saved,required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),s("v-select",{attrs:{label:"Item",items:e.items,disabled:e.saved,rules:[function(e){return!!e||"Item is required"}],required:""},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}}),e._v(" "),s("v-btn",{attrs:{disabled:!e.valid||e.saved},on:{click:e.submit}},[e._v("\n                submit\n            ")]),e._v(" "),s("v-btn",{on:{click:e.clear}},[e._v("clear")])],1)],1)],1)},staticRenderFns:[]};var C=s("VU/8")(_,y,!1,function(e){s("tyw9")},null,null).exports;n.a.use(c.a);var x=new c.a({routes:[{path:"/",name:"HomePage",component:N},{path:"/login",name:"Login",component:b},{path:"/form",name:"Form",component:C}]}),w=s("3EgV"),R=s.n(w);n.a.use(v.a);var S=new v.a.Store({state:{token:"",uid:null,userInfo:null},mutations:{"session/token":function(e,t){e.token=t,localStorage.setItem("token",t)},"session/uid":function(e,t){e.uid=t,localStorage.setItem("uid",t)},"session/userInfo":function(e,t){e.userInfo=t}},getters:{"session/token":function(e){return e.token},"session/uid":function(e){return e.uid},"session/userInfo":function(e){return e.userInfo}},actions:{"session/SetToken":function(e,t){var s=e.commit;console.log("token",t),s("session/token",t)},"session/SetUID":function(e,t){var s=e.commit;console.log("uid",t),s("session/uid",t)},"session/SetUserInfo":function(e,t){var s=e.commit;console.log("userInfo",t),s("session/userInfo",t)}}});n.a.config.productionTip=!1,n.a.use(i.a),n.a.use(R.a,{theme:{primary:"#C00000",secondary:"#C05858",accent:"#FFFFFF",error:"#000000",info:"#C05858",success:"#C00000",warning:"#C0C0C0"},options:{themeVariations:["primary","secondary"]}}),n.a.use(v.a),n.a.http=p.a,n.a.prototype.$http=p.a;o.a.initializeApp({apiKey:"AIzaSyD2OtZb77QTn-STDL0RXxSTqJtF5q07IOo",authDomain:"rutgersparkingpermit.firebaseapp.com",databaseURL:"https://rutgersparkingpermit.firebaseio.com",projectId:"rutgersparkingpermit",storageBucket:"rutgersparkingpermit.appspot.com",messagingSenderId:"1055963578231"});x.beforeEach(function(e,t,s){S.getters["session/uid"]||("/login"!==e.path?(console.log("go to login"),s("/login")):(console.log("next"),s())),console.log(e,t,"sup)"),s()}),new n.a({el:"#app",router:x,store:S,components:{App:u},template:"<App/>"})},g5uf:function(e,t){},sD8r:function(e,t){},tyw9:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.acbc1c7ae6caf305bde7.js.map